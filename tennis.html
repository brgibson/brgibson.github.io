<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="UTF-8"/>
	<title>Ben's Experiments - Movies</title>
	<script type='text/javascript' src='./knockout/knockout-2.3.0.js'></script>
	<link rel="stylesheet" href="./base.css" />	
	<style>
	.win {
		background-color: lightgreen;
	}
	.lose {
		background-color: lightpink;
	}
	</style>
</head>

<body>
	<h1>Tennis</h1>
	<div class="tennis">
		<table>
			<thead>
				<tr>
					<th data-bind="click: playerNameSort">Player Name</th>
					<!-- ko foreach: players()[0].matches -->	
					<th data-bind="click: parent.pointsInMatchSort">Match</th>
					<!-- /ko -->
					<th data-bind="click: pointsSort">Total Points</th>
					<th data-bind="click: ratingSort">Rating</th>
				</tr>
			</thead>
			<tbody data-bind="foreach: players"> 
				<tr>
					<td data-bind="text: playerName"></td>
					<!-- ko foreach: matches -->	
					<td style="text-align:center" data-bind="css: cssClass">
						<p data-bind="text:score"></p>
						<p data-bind="text:opponent"></p>
						<p data-bind="text:points"></p>
					</td>
					<!-- /ko -->
					<td data-bind="text:points"></td>
					<td data-bind="text:rating"></td>
				</tr>
			</tbody>
		</table>
	</div>
</body>
<script type='text/javascript' src='./tennis/playerStats.js'></script>
<script type='text/javascript' src='./tennis/tennis-mock-data.js'></script>
<script type='text/javascript' src='./tennis/tennis-view-models.js'></script>
<script type='text/javascript' src='./tennis/tennis-view-model-adapter.js'></script>
<script> 
var useMockData = false;

if (useMockData) {
	ko.applyBindings(new TennisViewModel().setPlayers(mockPlayers));
} else {
	ko.applyBindings(new TennisViewModelAdapter(playerStats).adapt());
}
</script>
</html>
